{"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;AAEA,IAAI,KAAK;AACT,MAAM,YAAY,EAAE;AACL,MAAM,iBAAiB,CAAA,GAAA,uBAAO,AAAD;IACxC,WAAW,YAAY;QACnB,OAAO;IACX;IAEA,WAAW,UAAU;QACjB;IACJ;IAEA,WAAW,MAAM;QACb;IACJ;IAEA,WAAW,UAAU;QACjB,OAAO;YACH,WAAW;YACX,cAAc,IAAI;YAClB,WAAW,IAAI;YACf,MAAM,IAAI;YACV,WAAW;YACX,iBAAiB;YACjB,cAAc;YACd,QAAQ,IAAI;YACZ,aAAa;YACb,UAAU,IAAI;YACd,eAAe;YACf,MAAM,IAAI;YACV,WAAW;YACX,OAAO,IAAI;YACX,YAAY;YACZ,WAAW,IAAI;YACf,gBAAgB;YAChB,YAAY,IAAI;YAChB,YAAY,KAAK;YACjB,cAAc;YACd,SAAS;YACT,UAAU;YACV,SAAS;YACT,WAAW;YACX,UAAU;YACV,YAAY,KAAK,IAAI,CAAC,OAAO,gBAAgB;QACjD;IACJ;IAEA,WAAW,SAAS;QAChB,OAAO;YACH,WAAW;YACX,cAAc;YACd,WAAW;YACX,MAAM;YACN,WAAW;YACX,iBAAiB;YACjB,cAAc;YACd,QAAQ;YACR,aAAa;YACb,UAAU;YACV,eAAe;YACf,MAAM;YACN,WAAW;YACX,OAAO;YACP,YAAY;YACZ,WAAW;YACX,gBAAgB;YAChB,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,SAAS;YACT,UAAU;YACV,SAAS;YACT,WAAW;YACX,UAAU;YACV,YAAY;QAChB;IACJ;IAEA,YAAY,UAAU,CAAC,CAAC,CAAE;QACtB,KAAK;QAEL,IAAI,CAAC,UAAU,GAAG,IAAI;QACtB,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,CAAC,SAAS,GAAG,KAAK;QACtB,IAAI,CAAC,QAAQ,GAAG,KAAK;QACrB,IAAI,CAAC,OAAO,GAAG,CAAC;QAChB,IAAI,CAAC,UAAU,CAAC;QAEhB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA,GAAA,sBAAM,AAAD,EAAE,IAAI;QAC7B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA,GAAA,wBAAQ,AAAD,EAAE,IAAI;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA,GAAA,uBAAO,AAAD,EAAE,IAAI;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA,GAAA,sBAAM,AAAD,EAAE,IAAI;QAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA,GAAA,0BAAU,AAAD,EAAE,IAAI;QACrC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA,GAAA,sBAAM,AAAD,EAAE,IAAI;QAE7B,IAAI,CAAC,MAAM;QAEX,MAAM;QACN,IAAI,CAAC,EAAE,GAAG;QACV,UAAU,IAAI,CAAC,IAAI;IACvB;IAEA,IAAI,cAAc;QACd,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY;IAChG;IAEA,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,GAAG,QAAQ;IACpF;IAEA,IAAI,UAAU;QACV,MAAM,EAAE,aAAY,EAAE,GAAG,IAAI,CAAC,OAAO;QACrC,IAAI,cACA,OAAO,CAAC,CACJ,CAAA,aAAa,WAAW,GAAG,KAC3B,CAAC,aAAa,MAAM,IACpB,CAAC,aAAa,KAAK,IACnB,aAAa,UAAU,GAAG,CAAA;QAGlC,OAAO,KAAK;IAChB;IAEA,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM;IAC/B;IAEA,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM;IAC7B;IAEA,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;IAC5B;IAEA,WAAW,UAAU,CAAC,CAAC,EAAE;QACrB,CAAA,GAAA,kBAAW,AAAD,EAAE,CAAA,GAAA,+BAAS,AAAD,EAAE,MAAM,CAAC,aAAa,UAAU;QAEpD,IAAI,OAAO,QAAQ,SAAS,KAAK,UAC7B,QAAQ,SAAS,GAAG,SAAS,aAAa,CAAC,QAAQ,SAAS;QAGhE,IAAI,OAAO,QAAQ,YAAY,KAAK,UAChC,QAAQ,YAAY,GAAG,SAAS,aAAa,CAAC,QAAQ,YAAY;QAGtE,IAAI,CAAC,OAAO,GAAG,CAAA,GAAA,+BAAS,AAAD,EACnB;YACI,GAAG,SAAS,OAAO;YACnB,GAAG,IAAI,CAAC,OAAO;YACf,GAAG,OAAO;QACd,GACA,SAAS,MAAM;QAGnB,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO;QAC/D,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ;QACjE,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO;QAC/D,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU;QACrE,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ;QACjE,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS;QAExD,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,MAAM,GAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;QAG7B,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,OAAO;QAEjC,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EACvB,CAAA,GAAA,eAAQ,AAAD,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;aAEjC,CAAA,GAAA,kBAAW,AAAD,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;QAGxC,IAAI,CAAC,MAAM;QACX,OAAO,IAAI;IACf;IAEA,KAAK,MAAM,EAAE;QACT,cAAc;QACd,IAAI,UAAU,OAAO,OAAO,cAAc,KAAK,YAAY;YACvD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YAC3B,IAAI,CAAC,UAAU,CAAC,IAAI;YACpB,OAAO,IAAI;QACf,CAAC;QAED,aAAa;QACb,IAAI,UAAU,OAAO,MAAM,EAAE;YACzB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,IAAI;YACpB,OAAO,IAAI;QACf,CAAC;QAED,uCAAuC;QACvC,IAAI,kBAAkB,oBAAoB,kBAAkB,kBAAkB;YAC1E,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG;YAC5B,SAAS,OAAO,UAAU,IAAI,OAAO,GAAG;QAC5C,CAAC;QAED,CAAA,GAAA,kBAAW,AAAD,EACN,OAAO,WAAW,YAAY,OAAO,IAAI,IACzC,CAAC,gHAAgH,CAAC;QAGtH,aAAa;QACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,CAAC,IAAI;QACpB,OAAO,IAAI;IACf;IAEA,wBAAwB,KAAK,EAAE;QAC3B,MAAM,EAAE,UAAS,EAAE,GAAG,IAAI,CAAC,OAAO;QAClC,MAAM,EAAE,QAAO,EAAE,UAAS,EAAE,QAAO,EAAE,WAAU,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;QACtE,MAAM,OAAO,MAAM,KAAK,GAAG,UAAU,qBAAqB,GAAG,IAAI;QACjE,MAAM,eAAe,AAAC,UAAU,UAAW;QAC3C,MAAM,aAAa,OAAO;QAC1B,MAAM,WAAW,IAAI,CAAC,oBAAoB,CAAC;QAC3C,OAAO,WAAW;IACtB;IAEA,qBAAqB,KAAK,EAAE;QACxB,MAAM,EAAE,QAAO,EAAE,WAAU,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;QAClD,OAAO,QAAS,CAAA,AAAC,UAAU,aAAc,EAAC;IAC9C;IAEA,qBAAqB,QAAQ,EAAE;QAC3B,MAAM,EAAE,QAAO,EAAE,WAAU,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;QAClD,OAAO,AAAC,UAAU,aAAc,KAAK;IACzC;IAEA,gBAAgB,IAAI,EAAE;QAClB,MAAM,EAAE,QAAO,EAAE,WAAU,EAAE,UAAS,EAAE,QAAO,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;QACtE,MAAM,QAAQ,IAAI,CAAC,oBAAoB,CAAC,OAAO;QAC/C,OAAO,QAAQ,AAAC,UAAU,UAAW;IACzC;IAEA,aAAa,KAAK,EAAE,GAAG,EAAE;QACrB,MAAM,EAAE,UAAS,EAAE,SAAQ,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;QAClD,IAAI,OAAO,UAAU,YAAY,OAAO,QAAQ,UAAU,OAAO,KAAK;QACtE,IAAI,SAAS,KAAK,OAAO,KAAK;QAC9B,IAAI,MAAM,WAAW,OAAO,KAAK;QACjC,IAAI,QAAQ,YAAY,UAAU,OAAO,KAAK;QAC9C,OAAO,IAAI;IACf;IAEA,aAAa,KAAK,EAAE,GAAG,EAAE;QACrB,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,QAAQ,IAAI,CAAC,WAAW,IAAI,SAAS,IAAI,CAAC,WAAW,IAAI;IAC7F;IAEA,KAAK,MAAM,EAAE;QACT,CAAA,GAAA,kBAAW,AAAD,EAAE,OAAO,WAAW,UAAU;QACxC,qBAAqB,IAAI,CAAC,UAAU;QACpC,IAAI,CAAC,YAAY,GAAG,CAAA,GAAA,YAAK,AAAD,EAAE,QAAQ,GAAG,IAAI,CAAC,QAAQ;QAClD,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,KAAK,IAAI,CAAC,YAAY,EACxF,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY;QAE7D,IAAI,CAAC,MAAM;QACX,OAAO,IAAI;IACf;IAEA,WAAW,MAAM,EAAE,WAAW,GAAG,EAAE;QAC/B,OAAO,IAAI,QAAQ,CAAC,UAAY;YAC5B,CAAA,GAAA,kBAAW,AAAD,EAAE,OAAO,WAAW,UAAU;YACxC,qBAAqB,IAAI,CAAC,UAAU;YACpC,MAAM,cAAc,CAAA,GAAA,YAAK,AAAD,EAAE,QAAQ,GAAG,IAAI,CAAC,QAAQ;YAClD,MAAM,OAAO,cAAc,IAAI,CAAC,WAAW;YAC3C,IAAI,SAAS,GAAG,OAAO,QAAQ,IAAI;YACnC,MAAM,OAAO,OAAO,WAAW;YAC/B,MAAM,EAAE,aAAY,EAAE,GAAG,IAAI,CAAC,OAAO;YACrC,MAAM,EAAE,QAAO,EAAE,GAAG,IAAI;YACxB,IAAI,SAAS,aAAa,KAAK;YAE9B,CAAA,SAAS,OAAO;gBACb,IAAI,CAAC,UAAU,GAAG,sBAAsB,IAAM;oBAC1C,IAAI,AAAC,OAAO,KAAK,IAAI,CAAC,WAAW,GAAG,eAAiB,OAAO,KAAK,IAAI,CAAC,WAAW,GAAG,aAAc;wBAC9F,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG;wBAC7B,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,IAAI,CAAC,IAAI;oBACvC,OAAO;wBACH,IAAI,CAAC,IAAI,CAAC;wBACV,IAAI,SAAS,aAAa,IAAI;wBAC9B,QAAQ,IAAI;oBAChB,CAAC;gBACL;YACJ,CAAA,EAAE,IAAI,CAAC,IAAI;QACf;IACJ;IAEA,cAAc,OAAO,EAAE;QACnB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;QAC3B,IAAI,CAAC,UAAU,CAAC;YAAE;QAAQ;QAC1B,IAAI,CAAC,MAAM;QACX,OAAO,IAAI;IACf;IAEA,cAAc;QACV,IAAI,CAAC,QAAQ,CAAC,WAAW;QACzB,OAAO,IAAI;IACf;IAEA,SAAS;QACL,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE;YAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM;YACpB,IAAI,CAAC,MAAM,CAAC,MAAM;QACtB,CAAC;QACD,OAAO,IAAI;IACf;IAEA,QAAQ;QACJ,IAAI,CAAC,OAAO,CAAC,OAAO;QACpB,OAAO,IAAI;IACf;IAEA,UAAU;QACN,IAAI,CAAC,SAAS,GAAG,IAAI;QACrB,IAAI,CAAC,MAAM,CAAC,OAAO;QACnB,IAAI,CAAC,QAAQ,CAAC,OAAO;QACrB,IAAI,CAAC,UAAU,CAAC,OAAO;QACvB,IAAI,CAAC,OAAO,CAAC,OAAO;QACpB,IAAI,CAAC,MAAM,CAAC,OAAO;QACnB,IAAI,CAAC,MAAM,CAAC,OAAO;QACnB,UAAU,MAAM,CAAC,UAAU,OAAO,CAAC,IAAI,GAAG;QAC1C,OAAO,IAAI;IACf;AACJ;kBAhUqB;AAkUrB,IAAI,OAAO,aAAa,aACpB;IAAA,IAAI,CAAC,SAAS,cAAc,CAAC,mBAAmB;QAC5C,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,EAAE,GAAG;QACZ,OAAO,WAAW,GAAG,CAAA,GAAA,yBAAK,AAAD;QACzB,SAAS,IAAI,CAAC,WAAW,CAAC;IAC9B,CAAC;AAAD,CACH;AAED,IAAI,OAAO,WAAW,aAClB,MAAM,CAAC,WAAW,GAAG;;;ACzVzB,CAAC,SAAS,CAAC,EAAC,CAAC,EAAC;IAAsD,OAAO,OAAO,GAAC;AAAyE,EAAE,IAAI,EAAC,WAAU;IAAC;IAAa,SAAS,EAAE,CAAC,EAAC;QAAC,OAAM,AAAC,CAAA,IAAE,cAAY,OAAO,UAAQ,YAAU,OAAO,OAAO,QAAQ,GAAC,SAAS,CAAC,EAAC;YAAC,OAAO,OAAO;QAAC,IAAE,SAAS,CAAC,EAAC;YAAC,OAAO,KAAG,cAAY,OAAO,UAAQ,EAAE,WAAW,KAAG,UAAQ,MAAI,OAAO,SAAS,GAAC,WAAS,OAAO,CAAC;QAAA,CAAC,AAAD,EAAG;IAAE;IAAC,IAAI,IAAE,OAAO,SAAS,CAAC,QAAQ,EAAC,IAAE,SAAS,CAAC,EAAC;QAAC,IAAG,KAAK,MAAI,GAAE,OAAM;QAAY,IAAG,IAAI,KAAG,GAAE,OAAM;QAAO,IAAI,IAAE,EAAE;QAAG,IAAG,cAAY,GAAE,OAAM;QAAU,IAAG,aAAW,GAAE,OAAM;QAAS,IAAG,aAAW,GAAE,OAAM;QAAS,IAAG,aAAW,GAAE,OAAM;QAAS,IAAG,eAAa,GAAE,OAAO,SAAS,CAAC,EAAC;YAAC,OAAM,wBAAsB,EAAE;QAAE,EAAE,KAAG,sBAAoB,UAAU;QAAC,IAAG,SAAS,CAAC,EAAC;YAAC,OAAO,MAAM,OAAO,GAAC,MAAM,OAAO,CAAC,KAAG,aAAa,KAAK;QAAA,EAAE,IAAG,OAAM;QAAQ,IAAG,SAAS,CAAC,EAAC;YAAC,IAAG,EAAE,WAAW,IAAE,cAAY,OAAO,EAAE,WAAW,CAAC,QAAQ,EAAC,OAAO,EAAE,WAAW,CAAC,QAAQ,CAAC;YAAG,OAAM,CAAC;QAAC,EAAE,IAAG,OAAM;QAAS,IAAG,SAAS,CAAC,EAAC;YAAC,IAAG;gBAAC,IAAG,YAAU,OAAO,EAAE,MAAM,IAAE,cAAY,OAAO,EAAE,MAAM,EAAC,OAAM,CAAC;YAAC,EAAC,OAAM,IAAE;gBAAC,IAAG,OAAK,GAAE,OAAO,CAAC,OAAO,CAAC,WAAU,OAAM,CAAC;YAAC;YAAC,OAAM,CAAC;QAAC,EAAE,IAAG,OAAM;QAAY,IAAG,SAAS,CAAC,EAAC;YAAC,OAAO,aAAa,QAAM,cAAY,OAAO,EAAE,YAAY,IAAE,cAAY,OAAO,EAAE,OAAO,IAAE,cAAY,OAAO,EAAE,OAAO;QAAA,EAAE,IAAG,OAAM;QAAO,IAAG,SAAS,CAAC,EAAC;YAAC,OAAO,aAAa,SAAO,YAAU,OAAO,EAAE,OAAO,IAAE,EAAE,WAAW,IAAE,YAAU,OAAO,EAAE,WAAW,CAAC,eAAe;QAAA,EAAE,IAAG,OAAM;QAAQ,IAAG,SAAS,CAAC,EAAC;YAAC,OAAO,aAAa,UAAQ,YAAU,OAAO,EAAE,KAAK,IAAE,aAAW,OAAO,EAAE,UAAU,IAAE,aAAW,OAAO,EAAE,SAAS,IAAE,aAAW,OAAO,EAAE,MAAM;QAAA,EAAE,IAAG,OAAM;QAAS,OAAO,EAAE;YAAI,KAAI;gBAAS,OAAM;YAAS,KAAI;gBAAU,OAAM;YAAU,KAAI;gBAAU,OAAM;YAAU,KAAI;gBAAU,OAAM;YAAU,KAAI;gBAAM,OAAM;YAAM,KAAI;gBAAM,OAAM;YAAM,KAAI;gBAAY,OAAM;YAAY,KAAI;gBAAa,OAAM;YAAa,KAAI;gBAAoB,OAAM;YAAoB,KAAI;gBAAa,OAAM;YAAa,KAAI;gBAAc,OAAM;YAAc,KAAI;gBAAa,OAAM;YAAa,KAAI;gBAAc,OAAM;YAAc,KAAI;gBAAe,OAAM;YAAe,KAAI;gBAAe,OAAM;QAAc;QAAC,IAAG,SAAS,CAAC,EAAC;YAAC,OAAM,cAAY,OAAO,EAAE,KAAK,IAAE,cAAY,OAAO,EAAE,MAAM,IAAE,cAAY,OAAO,EAAE,IAAI;QAAA,EAAE,IAAG,OAAM;QAAY,OAAO,IAAE,EAAE,IAAI,CAAC;YAAI,KAAI;gBAAkB,OAAM;YAAS,KAAI;gBAAwB,OAAM;YAAc,KAAI;gBAAwB,OAAM;YAAc,KAAI;gBAA2B,OAAM;YAAiB,KAAI;gBAA0B,OAAM;QAAe;QAAC,OAAO,EAAE,KAAK,CAAC,GAAE,IAAI,WAAW,GAAG,OAAO,CAAC,OAAM;IAAG;IAAE,SAAS,EAAE,CAAC,EAAC;QAAC,OAAO,EAAE,WAAW,GAAC,EAAE,WAAW,CAAC,IAAI,GAAC,IAAI;IAAA;IAAC,SAAS,EAAE,CAAC,EAAC,CAAC,EAAC;QAAC,IAAI,IAAE,IAAE,UAAU,MAAM,IAAE,KAAK,MAAI,SAAS,CAAC,EAAE,GAAC,SAAS,CAAC,EAAE,GAAC;YAAC;SAAS;QAAC,OAAO,EAAE,GAAE,GAAE,IAAG,EAAE,GAAE,GAAE,IAAG,SAAS,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;YAAC,IAAI,IAAE,EAAE,IAAG,IAAE,EAAE;YAAG,IAAG,aAAW,GAAE;gBAAC,IAAG,aAAW,GAAE,MAAM,IAAI,MAAM,kBAAkB,MAAM,CAAC,EAAE,IAAI,CAAC,MAAK,sCAAsC,MAAM,CAAC,GAAE,MAAM;gBAAA,OAAO,IAAI,CAAC,GAAG,OAAO,CAAC,SAAS,CAAC,EAAC;oBAAC,IAAI,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,EAAE,KAAK;oBAAG,EAAE,IAAI,CAAC,IAAG,EAAE,GAAE,GAAE,IAAG,EAAE,GAAE,GAAE,IAAG,EAAE,GAAE,GAAE,EAAE;gBAAA;YAAE,CAAC;YAAA,IAAG,YAAU,GAAE;gBAAC,IAAG,YAAU,GAAE,MAAM,IAAI,MAAM,kBAAkB,MAAM,CAAC,EAAE,IAAI,CAAC,MAAK,qCAAqC,MAAM,CAAC,GAAE,MAAM;gBAAA,EAAE,OAAO,CAAC,SAAS,CAAC,EAAC,CAAC,EAAC;oBAAC,IAAI,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,CAAC,CAAC,EAAE,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,EAAE,KAAK;oBAAG,EAAE,IAAI,CAAC,IAAG,EAAE,GAAE,GAAE,IAAG,EAAE,GAAE,GAAE,IAAG,EAAE,GAAE,GAAE,EAAE;gBAAA;YAAE,CAAC;QAAA,EAAE,GAAE,GAAE,IAAG,CAAC;IAAA;IAAC,SAAS,EAAE,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAG,aAAW,EAAE,IAAG;YAAC,IAAI,IAAE,EAAE;YAAG,IAAG,QAAM,CAAC,CAAC,EAAE,IAAG,CAAA,IAAE,EAAE,KAAK,CAAC,KAAG,YAAW,GAAG,CAAE,CAAA,KAAG,EAAE,OAAO,CAAC,OAAK,EAAE,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,CAAC,EAAC;gBAAC,OAAO,EAAE,WAAW,GAAG,IAAI;YAAE,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,EAAC;gBAAC,OAAO,MAAI;YAAC,KAAG,EAAE,WAAW,GAAG,IAAI,OAAK,CAAC,AAAD,CAAE,EAAC,MAAM,IAAI,MAAM,kBAAkB,MAAM,CAAC,EAAE,IAAI,CAAC,MAAK,eAAe,MAAM,CAAC,GAAE,qBAAqB,MAAM,CAAC,GAAE,MAAK;QAAA,CAAC;IAAA;IAAC,SAAS,EAAE,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAG,eAAa,EAAE,IAAG;YAAC,IAAI,IAAE,EAAE,GAAE,EAAE,IAAG;YAAG,IAAG,CAAC,MAAI,GAAE;gBAAC,IAAI,IAAE,EAAE;gBAAG,MAAK,aAAW,IAAE,IAAI,MAAM,KAAG,YAAU,IAAE,IAAE,IAAI,MAAM,sCAAsC,MAAM,CAAC,EAAE,IAAI,CAAC,MAAK,8CAA8C,MAAM,CAAC,GAAE,KAAK,CAAA;YAAA,CAAC;QAAA,CAAC;IAAA;IAAC,OAAO,EAAE,MAAM,GAAC,GAAE,CAAC;AAAA;;;ACA51H;;AAAe,MAAM;IACjB,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE;QACd,MAAM,IAAI,IAAI,CAAC,CAAC,IAAK,CAAA,IAAI,CAAC,CAAC,GAAG,CAAC,CAAA;QAC9B,CAAA,CAAC,CAAC,KAAK,IAAK,CAAA,CAAC,CAAC,KAAK,GAAG,EAAE,AAAD,CAAC,EAAG,IAAI,CAAC;YAAE;YAAI;QAAI;QAC3C,OAAO,IAAI;IACf;IAEA,KAAK,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE;QAChB,MAAM,OAAO,IAAI;QACjB,SAAS,SAAS,GAAG,IAAI,EAAE;YACvB,KAAK,GAAG,CAAC,MAAM;YACf,GAAG,KAAK,CAAC,KAAK;QAClB;QACA,SAAS,CAAC,GAAG;QACb,OAAO,IAAI,CAAC,EAAE,CAAC,MAAM,UAAU;IACnC;IAEA,KAAK,IAAI,EAAE,GAAG,IAAI,EAAE;QAChB,MAAM,SAAS,AAAC,CAAA,AAAC,CAAA,IAAI,CAAC,CAAC,IAAK,CAAA,IAAI,CAAC,CAAC,GAAG,CAAC,CAAA,CAAC,CAAE,CAAC,KAAK,IAAI,EAAE,AAAD,EAAG,KAAK;QAC5D,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,KAAK,EACpC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE;QAEtC,OAAO,IAAI;IACf;IAEA,IAAI,IAAI,EAAE,QAAQ,EAAE;QAChB,MAAM,IAAI,IAAI,CAAC,CAAC,IAAK,CAAA,IAAI,CAAC,CAAC,GAAG,CAAC,CAAA;QAC/B,MAAM,OAAO,CAAC,CAAC,KAAK;QACpB,MAAM,aAAa,EAAE;QACrB,IAAI,QAAQ,UAAU;YAClB,IAAK,IAAI,IAAI,GAAG,MAAM,KAAK,MAAM,EAAE,IAAI,KAAK,KAAK,EAC7C,IAAI,IAAI,CAAC,EAAE,CAAC,EAAE,KAAK,YAAY,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,WAAW,IAAI,CAAC,IAAI,CAAC,EAAE;QAEzF,CAAC;QACD,IAAI,WAAW,MAAM,EACjB,CAAC,CAAC,KAAK,GAAG;aAEV,OAAO,CAAC,CAAC,KAAK;QAElB,OAAO,IAAI;IACf;AACJ;kBAzCqB;;;ACArB,QAAQ,cAAc,GAAG,SAAU,CAAC,EAAE;IACpC,OAAO,KAAK,EAAE,UAAU,GAAG,IAAI;QAAC,SAAS;IAAC,CAAC;AAC7C;AAEA,QAAQ,iBAAiB,GAAG,SAAU,CAAC,EAAE;IACvC,OAAO,cAAc,CAAC,GAAG,cAAc;QAAC,OAAO,IAAI;IAAA;AACrD;AAEA,QAAQ,SAAS,GAAG,SAAU,MAAM,EAAE,IAAI,EAAE;IAC1C,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,SAAU,GAAG,EAAE;QACzC,IAAI,QAAQ,aAAa,QAAQ,gBAAgB,KAAK,cAAc,CAAC,MACnE;QAGF,OAAO,cAAc,CAAC,MAAM,KAAK;YAC/B,YAAY,IAAI;YAChB,KAAK,WAAY;gBACf,OAAO,MAAM,CAAC,IAAI;YACpB;QACF;IACF;IAEA,OAAO;AACT;AAEA,QAAQ,MAAM,GAAG,SAAU,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE;IAC9C,OAAO,cAAc,CAAC,MAAM,UAAU;QACpC,YAAY,IAAI;QAChB,KAAK;IACP;AACF;;;AC9BA;;AAAe,MAAM;IACjB,aAAc;QACV,IAAI,CAAC,aAAa,GAAG,EAAE;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;IACrC;IAEA,MAAM,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,EAAE;QACvC,IAAI,MAAM,OAAO,CAAC,OACd,OAAO,KAAK,GAAG,CAAC,CAAC,OAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAM,UAAU;QAGjE,OAAO,gBAAgB,CAAC,MAAM,UAAU;QACxC,MAAM,eAAe,IAAM,OAAO,mBAAmB,CAAC,MAAM,UAAU;QACtE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;QACxB,OAAO;IACX;IAEA,UAAU;QACN,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,QAAU;IAC1C;AACJ;kBApBqB;;;ACArB;;AAAA;AAEe,MAAM;IACjB,YAAY,EAAE,CAAE;QACZ,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,MAAM,GAAG,IAAI;QAClB,MAAM,EAAE,aAAY,EAAE,GAAG,GAAG,OAAO;QACnC,IAAI,CAAC,MAAM,GAAG,CAAA,GAAA,eAAQ,AAAD,EAAE,IAAI,CAAC,IAAI,EAAE,cAAc,IAAI;QACpD,IAAI,CAAC,IAAI;IACb;IAEA,OAAO;QACH,MAAM,EAAE,UAAS,EAAE,WAAU,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO;QACjD,MAAM,EAAE,YAAW,EAAE,aAAY,EAAE,GAAG;QACtC,MAAM,QAAQ,cAAc;QAC5B,MAAM,SAAS,eAAe;QAE9B,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,KAAK,OACtB,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG;YAExB,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,QACvB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG;QAE7B,OAAO;YACH,CAAA,GAAA,kBAAW,AAAD,EACN,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,KAAO,GAAG,OAAO,CAAC,SAAS,KAAK,YACrE;YAEJ,UAAU,SAAS,GAAG;YACtB,CAAA,GAAA,eAAQ,AAAD,EAAE,WAAW;YACpB,IAAI,CAAC,MAAM,GAAG,SAAS,aAAa,CAAC;YACrC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG;YACpB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG;YACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG;YAC1B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG;YAC3B,UAAU,WAAW,CAAC,IAAI,CAAC,MAAM;QACrC,CAAC;IACL;IAEA,cAAc;QACV,MAAM,QAAQ,SAAS,aAAa,CAAC;QACrC,MAAM,KAAK,CAAC,OAAO,GAAG;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;QACnC,MAAM,QAAQ,GAAG,CAAC,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC;QACpC,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,MAAM,KAAK;QACX,SAAS,IAAI,CAAC,WAAW,CAAC;IAC9B;IAEA,UAAU;QACN,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,GAAG;IAC1C;AACJ;kBAnDqB;;;ACFrB;;AAAA,mDAAa;AAOb,iDAAgB;AAKhB,iDAAgB;AAUhB,2CAAgB;AAIhB,8CAAgB;AAWhB,8CAAgB;AAIhB,iDAAgB;AAzCT,MAAM,sBAAsB;IAC/B,YAAY,OAAO,CAAE;QACjB,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;IAChB;AACJ;AAEO,SAAS,YAAY,SAAS,EAAE,GAAG,EAAE;IACxC,IAAI,CAAC,WAAW,MAAM,IAAI,cAAc,KAAK;IAC7C,OAAO;AACX;AAEO,SAAS,YAAY,GAAG,OAAO,EAAE;IACpC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,WAAW;IACnC,OAAO,QAAQ,MAAM,CAAC,CAAC,KAAK,MAAQ;QAChC,MAAM,QAAQ,IAAI,KAAK,AAAC,CAAA,IAAI,UAAU,GAAG,CAAA,IAAM,CAAA,IAAI,UAAU,GAAG,CAAA;QAChE,MAAM,GAAG,CAAC,KAAK;QACf,MAAM,GAAG,CAAC,KAAK,IAAI,UAAU,GAAG;QAChC,OAAO;IACX,GAAG,IAAI;AACX;AAEO,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE;IAC7B,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,GAAG,CAAC,GAAG;AAC/D;AAEO,SAAS,SAAS,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;IAC3C,IAAI,OAAO,KAAK,GAAG;IACnB,OAAO,CAAC,GAAG,OAAS;QAChB,MAAM,MAAM,KAAK,GAAG;QACpB,IAAI,MAAM,QAAQ,OAAO;YACrB,KAAK,KAAK,CAAC,SAAS;YACpB,OAAO,KAAK,GAAG;QACnB,CAAC;IACL;AACJ;AAEO,SAAS,SAAS,EAAE,EAAE,SAAS,EAAE;IACpC,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC;AAC5B;AAEO,SAAS,YAAY,EAAE,EAAE,SAAS,EAAE;IACvC,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC;AAC/B;;;AC3CA;;AAAA;AACA;;AACA;AAEe,MAAM;IACjB,YAAY,EAAE,CAAE;QACZ,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,MAAM,GAAG,GAAG,QAAQ,CAAC,MAAM;QAChC,IAAI,CAAC,MAAM,GAAG,CAAC;QAEf,MAAM,EAAE,aAAY,EAAE,UAAS,EAAE,GAAG,GAAG,OAAO;QAC9C,IAAI,CAAC,MAAM,GAAG,CAAA,GAAA,eAAQ,AAAD,EAAE,IAAI,CAAC,MAAM,EAAE,cAAc,IAAI;QAEtD,IAAI,aAAa,OAAO,eAAe,IAAI,OAAO,MAAM,EAAE;YACtD,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,IAAI,eAAe,CAAC,IAAI,KAAK;gBAAC,CAAA,GAAA,sBAAU,AAAD;aAAE;YAClE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;YAElC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,QAAU;gBACpD,MAAM,EAAE,KAAI,EAAE,KAAI,EAAE,GAAG,MAAM,IAAI;gBACjC,IAAI,SAAS,YAAY,CAAC,GAAG,SAAS,EAAE;oBACpC,IAAI,CAAC,MAAM,GAAG,KAAK,MAAM;oBACzB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,KAAK,MAAM;oBAClC,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,KAAK,WAAW;gBACrD,CAAC;YACL;YAEA,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;gBACpB,MAAM;gBACN,MAAM;oBACF,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;oBACxB,QAAQ,IAAI,CAAC,MAAM,CAAC,MAAM;gBAC9B;YACJ;QACJ,OAAO;YACH,IAAI,CAAC,MAAM,GAAG;6BAAE,CAAA,GAAA,oBAAW,AAAD;YAAE;YAE5B,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,SAAW;gBAC7B,IAAI,CAAC,MAAM,GAAG;YAClB;YAEA,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;gBACpB,MAAM;gBACN,MAAM;oBACF,QAAQ,IAAI,CAAC,MAAM;oBACnB,IAAI,IAAI,CAAC,EAAE;gBACf;YACJ;QACJ,CAAC;QAED,GAAG,EAAE,CAAC,UAAU,CAAC,EAAE,YAAW,EAAE,WAAU,EAAE,GAAK;YAC7C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;gBACpB,MAAM;gBACN,MAAM;oBAAE;oBAAa;gBAAW;YACpC;YACA,IAAI,CAAC,MAAM;QACf;IACJ;IAEA,SAAS;QACL,MAAM,EACF,YAAW,EACX,UAAU,cAAa,EACvB,0CAA0C;QAC1C,SAAS,EAAE,UAAS,EAAE,aAAY,EAAE,GAAG,SAAS,CAAA,EACnD,GAAG,IAAI,CAAC,EAAE;QAEX,MAAM,EAAE,MAAK,EAAE,OAAM,EAAE,GAAG,IAAI,CAAC,MAAM;QAErC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;YACpB,MAAM;YACN,MAAM;gBAAE,GAAG,OAAO;gBAAE;gBAAa;gBAAO;gBAAQ;YAAc;QAClE;IACJ;IAEA,UAAU;QACN,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EACrB,IAAI,CAAC,MAAM,CAAC,SAAS;IAE7B;AACJ;kBA3EqB;;;ACJrB,OAAO,OAAO,GAAG;;;ACAjB;;iDAyPa;AAzPb,MAAM,WAAW,KAAK,QAAQ,KAAK;AAEnC,IAAI,KAAK,IAAI;AACb,IAAI,SAAS,IAAI;AACjB,IAAI,MAAM,IAAI;AACd,IAAI,UAAU;AACd,IAAI,UAAU;AACd,IAAI,YAAY;AAChB,IAAI,UAAU;AACd,IAAI,aAAa;AACjB,IAAI,cAAc,IAAI;AACtB,IAAI,iBAAiB;AAErB,SAAS,aAAa,MAAM,EAAE;IAC1B,MAAM,OAAO,CAAC,MAAS,MAAM,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,OAAO,IAAI;IACzD,MAAM,OAAO,KAAK,KAAK,CAAC,SAAS;IACjC,MAAM,MAAM,KAAK,KAAK,CAAC,AAAC,CAAA,SAAS,OAAO,IAAG,IAAK;IAChD,MAAM,MAAM,KAAK,KAAK,CAAC,SAAS,OAAO,OAAO,MAAM;IACpD,OAAO;QAAC;QAAM;QAAK;KAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC;AAC3C;AAEA,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE;IACtB,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,GAAG,CAAC,GAAG;AAC/D;AAEA,SAAS,WAAW,IAAI,EAAE;IACtB,MAAM,WAAW;IACjB,IAAI,IAAI,GAAG,CAAC,EAAE,WAAW,KAAK,UAAU,CAAC,QAAQ,CAAC;IAClD,MAAM,aAAa,IAAI,WAAW,CAAC,YAAY,KAAK;IACpD,OAAO,AAAC,SAAS,KAAK,MAAM,EAAE;QAC1B,MAAM,OAAO,AAAC,UAAU,SAAW,CAAA,aAAa,GAAE;QAClD,IAAI,OAAO,GAAG,OAAO,KAAK,KAAK,CAAC,SAAS;QACzC,OAAO,KAAK,SAAS;IACzB,EAAG;AACP;AAEA,SAAS,eAAe,IAAI,EAAE;IAC1B,MAAM,EAAE,MAAK,EAAE,OAAM,EAAE,gBAAe,EAAE,aAAY,EAAE,QAAO,EAAE,GAAG;IAClE,IAAI,SAAS,CAAC,GAAG,GAAG,OAAO;IAC3B,IAAI,SAAS,GAAG;IAChB,IAAI,QAAQ,CAAC,GAAG,GAAG,OAAO;IAC1B,IAAI,SAAS,GAAG;IAChB,IAAI,QAAQ,CAAC,GAAG,GAAG,UAAU,SAAS;IACtC,IAAI,QAAQ,CAAC,QAAQ,UAAU,SAAS,GAAG,UAAU,SAAS;AAClE;AAEA,SAAS,SAAS,IAAI,EAAE;IACpB,MAAM,EAAE,MAAK,EAAE,OAAM,EAAE,YAAW,EAAE,UAAS,EAAE,WAAU,EAAE,WAAU,EAAE,GAAG;IAC1E,IAAI,SAAS,GAAG;IAChB,IAAK,IAAI,QAAQ,GAAG,QAAQ,UAAU,IAAI,SAAS,QAAS;QACxD,MAAM,IAAI,aACJ,UAAU,QAAQ,AAAC,CAAA,cAAc,SAAS,aAAa,GAAE,IAAK,UAAU,KACxE,UAAU,KAAK;QACrB,IAAI,QAAQ,CAAC,GAAG,GAAG,YAAY;IACnC;IACA,IAAK,IAAI,SAAQ,GAAG,SAAQ,SAAS,SAAS,UAAS,QACnD,IAAI,QAAQ,CAAC,GAAG,UAAU,QAAO,OAAO;AAEhD;AAEA,SAAS,UAAU,IAAI,EAAE;IACrB,MAAM,EAAE,OAAM,EAAE,YAAW,EAAE,WAAU,EAAE,WAAU,EAAE,QAAO,EAAE,WAAU,EAAE,WAAU,EAAE,GAAG;IACzF,MAAM,WAAW;IACjB,MAAM,aAAa;IACnB,MAAM,UAAU;IAChB,IAAI,IAAI,GAAG,CAAC,EAAE,WAAW,WAAW,QAAQ,CAAC;IAC7C,IAAI,SAAS,GAAG;IAChB,IAAI,SAAS;IACb,IAAK,IAAI,QAAQ,GAAG,QAAQ,UAAU,IAAI,SAAS,EAAG;QAClD,MAAM,IAAI,aACJ,UAAU,QAAQ,AAAC,CAAA,cAAc,SAAS,aAAa,GAAE,IAAK,UAAU,KACxE,UAAU,KAAK;QACrB,IAAI,AAAC,CAAA,QAAQ,OAAM,IAAK,OAAO,GAAG;YAC9B,UAAU;YACV,IAAI,QAAQ,CAAC,GAAG,aAAa,IAAI,SAAS,aAAa,UAAU,EAAE,YAAY,aAAa;YAC5F,MAAM,OAAO,KAAK,KAAK,CAAC,YAAY;YACpC,IAAI,OAAO,YAAY,KAAK,QAAQ,GAChC,IAAI,QAAQ,CACR,aAAa,OACb,IAAI,WAAW,aAAa,IAAI,YAChC,aAAa,UAAU,aAAa,SAAS,UAAU,aAAa,QAAQ;QAGxF,OAAO,IAAI,AAAC,CAAA,QAAQ,OAAM,IAAK,MAAM,GACjC,IAAI,QAAQ,CACR,GACA,aAAa,IAAI,SAAS,AAAC,aAAa,IAAK,UAAU,EACvD,YACA,AAAC,aAAa,IAAK;IAG/B;AACJ;AAEA,SAAS,SAAS,IAAI,EAAE;IACpB,MAAM,EACF,MAAK,EACL,OAAM,EACN,YAAW,EACX,SAAQ,EACR,UAAS,EACT,cAAa,EACb,SAAQ,EACR,QAAO,EACP,UAAS,EACT,SAAQ,EACR,WAAU,EACb,GAAG;IAEJ,MAAM,SAAS,SAAS;IACxB,MAAM,YAAY,QAAQ,UAAU,UAAU;IAC9C,MAAM,aAAa,KAAK,KAAK,CAAC,YAAY;IAC1C,MAAM,WAAW,KAAK,KAAK,CAAC,MAAM,AAAC,CAAA,YAAY,QAAO,IAAK,YAAY,YAAY;IACnF,MAAM,OAAO,KAAK,KAAK,CAAC,AAAC,CAAA,WAAW,UAAS,IAAK;IAClD,MAAM,UAAU,aAAa,QAAQ,IAAI,UAAU,UAAU,AAAC,CAAA,cAAc,SAAQ,IAAK,UAAU,EAAE;IACrG,IAAI,YAAY;IAChB,IAAI,SAAS;IACb,IAAI,MAAM;IACV,IAAI,MAAM;IACV,IAAK,IAAI,IAAI,YAAY,IAAI,UAAU,KAAK,SAAU;QAClD,aAAa;QACb,MAAM,OAAO,WAAW,CAAC,EAAE,IAAI;QAC/B,IAAI,OAAO,KACP,MAAM;aACH,IAAI,OAAO,KACd,MAAM;QAEV,IAAI,aAAa,QAAQ,SAAS,WAAW;YACzC,MAAM,QAAQ,UAAU,UAAU;YAClC,IAAI,SAAS,GAAG,YAAY,WAAW,QAAQ,gBAAgB,SAAS;YACxE,IAAI,QAAQ,CACR,OACA,AAAC,CAAA,IAAI,MAAM,SAAQ,IAAK,QACxB,UACA,KAAK,GAAG,CAAC,GAAG,AAAC,CAAA,MAAM,GAAE,IAAK,SAAS;YAEvC,UAAU;YACV,YAAY;YACZ,MAAM;YACN,MAAM;QACV,CAAC;IACL;AACJ;AAEA,SAAS,cAAc,IAAI,EAAE;IACzB,MAAM,EAAE,MAAK,EAAE,OAAM,EAAE,YAAW,EAAE,WAAU,EAAE,WAAU,EAAE,cAAa,EAAE,WAAU,EAAE,eAAc,EAAE,GAAG;IAC1G,IAAI,CAAC,cAAc,CAAC,iBAAiB,kBAAkB,UAAU;IACjE,MAAM,aAAa,AAAC,UAAU,aAAc,KAAK;IACjD,MAAM,iBAAiB,AAAC,QAAQ,aAAc;IAC9C,MAAM,kBAAkB,IAAI;IAC5B,MAAM,gBAAgB,AAAC,cAAc,gBAAkB,CAAA,QAAQ,cAAa;IAC5E,MAAM,eAAe,aAAa,SAAS,kBAAkB,CAAC;IAC9D,IAAI,SAAS,GAAG;IAChB,IAAI,QAAQ,CAAC,eAAe,cAAc,gBAAgB;AAC9D;AAEA,SAAS,WAAW,IAAI,EAAE;IACtB,MAAM,EAAE,OAAM,EAAE,MAAK,EAAE,YAAW,EAAE,YAAW,EAAE,WAAU,EAAE,QAAO,EAAE,WAAU,EAAE,GAAG;IACrF,IAAI,SAAS,GAAG;IAChB,MAAM,IAAI,aAAa,QAAQ,IAAI,UAAU,UAAU,AAAC,CAAA,cAAc,SAAQ,IAAK,UAAU,EAAE;IAC/F,IAAI,QAAQ,CAAC,GAAG,GAAG,YAAY;AACnC;AAEA,KAAK,SAAS,GAAG,SAAS,UAAU,KAAK,EAAE;IACvC,MAAM,EAAE,KAAI,EAAE,KAAI,EAAE,GAAG,MAAM,IAAI;IAEjC,IAAI,SAAS,QAAQ;QACjB,IAAI,UACA,SAAS,IAAI,gBAAgB,KAAK,KAAK,EAAE,KAAK,MAAM;aACjD;YACH,KAAK,KAAK,EAAE;YACZ,SAAS,KAAK,MAAM;QACxB,CAAC;QACD,MAAM,OAAO,UAAU,CAAC;IAC5B,CAAC;IAED,IAAI,SAAS,UAAU;QACnB,aAAa,KAAK,UAAU;QAC5B,cAAc,KAAK,WAAW;IAClC,CAAC;IAED,IAAI,SAAS,UAAU;QACnB,MAAM,aAAa,KAAK,SAAS,CAAC;QAClC,IAAI,mBAAmB,YACnB,OAAQ,iBAAiB;QAG7B,IAAI,OAAO,KAAK,KAAK,KAAK,KAAK,EAC3B,OAAO,KAAK,GAAG,KAAK,KAAK;QAG7B,IAAI,OAAO,MAAM,KAAK,KAAK,MAAM,EAC7B,OAAO,MAAM,GAAG,KAAK,MAAM;QAG/B,MAAM,EAAE,WAAU,EAAE,GAAG;QACvB,UAAU,KAAK,QAAQ,GAAG,KAAK,KAAK,OAAO,GAAG;QAC9C,UAAU,KAAK,KAAK,GAAG;QACvB,UAAU,WAAW;QACrB,YAAY,KAAK,UAAU,GACrB,KAAK,WAAW,GAAG,KAAK,QAAQ,GAAG,IACnC,KAAK,KAAK,CAAC,KAAK,WAAW,GAAG,KAAK,QAAQ,IAAI,KAAK,QAAQ;QAElE,eAAe;QAEf,IAAI,KAAK,IAAI,EACT,SAAS;QAGb,IAAI,KAAK,KAAK,EACV,UAAU;QAGd,IAAI,KAAK,IAAI,EACT,SAAS;QAGb,IAAI,KAAK,SAAS,EACd,cAAc;QAGlB,IAAI,KAAK,MAAM,EACX,WAAW;QAGf,MAAM,SAAS;YACX;YACA;YACA;YACA;YACA;YACA;YACA,GAAG,IAAI;QACX;QAEA,IAAI,UACA,KAAK,WAAW,CAAC;YACb,MAAM;YACN,MAAM;gBACF;gBACA,aAAa,OAAO,qBAAqB;YAC7C;QACJ;aAEA,GAAG,IAAI,CAAC,UAAU;IAE1B,CAAC;AACL;AAEO,MAAM,cAAc,CAAC,OAAS;IACjC,KAAK,SAAS,CAAC;QAAE;IAAK;AAC1B;;;AC3PA;;AAAe,MAAM;IACjB,YAAY,EAAE,CAAE;QACZ,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,QAAQ,GAAG,IAAK,CAAA,OAAO,mBAAmB,IAAI,OAAO,yBAAyB,AAAD,EAAG,GAAG,GAAG;QAC3F,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,GAAG;QACpD,IAAI,CAAC,WAAW,GAAG,IAAI;IAC3B;IAEA,gBAAgB,KAAK,EAAE;QACnB,OAAO,IAAI,QAAQ,CAAC,SAAS,SAAW;YACpC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB;YAC7B,IAAI,CAAC,QAAQ,CAAC,eAAe,CACzB,MAAM,MAAM,EACZ,CAAC,cAAgB;gBACb,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB;gBAC/B,IAAI,CAAC,aAAa,CAAC;gBACnB,QAAQ;YACZ,GACA,CAAC,QAAU;gBACP,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB;gBAC7B,OAAO;YACX;QAER;IACJ;IAEA,cAAc,WAAW,EAAE;QACvB,IAAI,CAAC,WAAW,GAAG;QACnB,IAAI,CAAC,WAAW,GAAG,YAAY,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO;QACrE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU;YACnB,aAAa,IAAI,CAAC,WAAW;YAC7B,YAAY,IAAI,CAAC,WAAW,CAAC,UAAU;YACvC,UAAU,IAAI,CAAC,WAAW,CAAC,QAAQ;QACvC;QACA,IAAI,CAAC,EAAE,CAAC,MAAM;IAClB;IAEA,cAAc,OAAO,EAAE;QACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,IAAI;QACnE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU;YACnB,aAAa,IAAI,CAAC,WAAW;YAC7B,YAAY,IAAI,CAAC,WAAW,CAAC,UAAU;YACvC,UAAU,IAAI,CAAC,WAAW,CAAC,QAAQ;QACvC;QACA,IAAI,CAAC,EAAE,CAAC,MAAM;IAClB;IAEA,UAAU;QACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,GAAG;QACpD,IAAI,CAAC,WAAW,GAAG,IAAI;QACvB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU;YACnB,aAAa,IAAI,CAAC,WAAW;YAC7B,YAAY,IAAI,CAAC,WAAW,CAAC,UAAU;YACvC,UAAU,IAAI,CAAC,WAAW,CAAC,QAAQ;QACvC;QACA,IAAI,CAAC,EAAE,CAAC,MAAM;IAClB;AACJ;kBAzDqB;;;ACArB;;AAAA;AAEe,MAAM;IACjB,YAAY,EAAE,CAAE;QACZ,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,MAAM,GAAG,IAAI;IACtB;IAEA,KAAK,GAAG,EAAE;QACN,IAAI,CAAC,OAAO;QACZ,OAAO,MAAM,KACR,IAAI,CAAC,CAAC,WAAa;YAChB,IAAI,SAAS,IAAI,IAAI,OAAO,SAAS,IAAI,CAAC,SAAS,KAAK,YAAY;gBAChE,IAAI,CAAC,QAAQ,GAAG,OAAO,SAAS,OAAO,CAAC,GAAG,CAAC;gBAC5C,IAAI,CAAC,MAAM,GAAG,SAAS,IAAI,CAAC,SAAS;gBACrC,OAAO,CAAA,SAAS,OAAO;oBACnB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,EAAE,KAAI,EAAE,MAAK,EAAE,GAAK;wBAChD,IAAI,MAAM,OAAO,IAAI;wBACrB,IAAI,CAAC,QAAQ,IAAI,MAAM,UAAU;wBACjC,IAAI,CAAC,IAAI,GAAG,CAAA,GAAA,kBAAW,AAAD,EAAE,IAAI,CAAC,IAAI,EAAE;wBACnC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK;wBAC/C,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ;4BACjB,UAAU,IAAI,CAAC,QAAQ;4BACvB,UAAU,IAAI,CAAC,QAAQ;4BACvB,MAAM,IAAI,CAAC,IAAI;wBACnB;wBACA,OAAO,KAAK,IAAI,CAAC,IAAI;oBACzB;gBACJ,CAAA,EAAE,IAAI,CAAC,IAAI;YACf,CAAC;YACD,OAAO,SAAS,WAAW;QAC/B,GACC,IAAI,CAAC,CAAC,cAAgB;YACnB,IAAI,eAAe,YAAY,UAAU,EAAE;gBACvC,IAAI,CAAC,IAAI,GAAG,IAAI,WAAW;gBAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU;gBACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU;gBACpC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI;gBACzC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ;oBACjB,UAAU,IAAI,CAAC,QAAQ;oBACvB,UAAU,IAAI,CAAC,QAAQ;oBACvB,MAAM,IAAI,CAAC,IAAI;gBACnB;YACJ,CAAC;YACD,OAAO;QACX;IACR;IAEA,UAAU;QACN,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,MAAM;YAClB,IAAI,CAAC,MAAM,GAAG,IAAI;QACtB,CAAC;IACL;AACJ;kBA1DqB;;;ACFrB;;AAAA;AAEe,MAAM;IACjB,YAAY,EAAE,CAAE;QACZ,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,SAAS,GAAG,IAAI;QACrB,IAAI,CAAC,MAAM,GAAG,KAAK;QACnB,IAAI,CAAC,IAAI,GAAG,IAAM;YACd,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACd,IAAI,CAAC,MAAM,GAAG,IAAI;gBAClB,IAAI,CAAC,SAAS;gBACd,IAAI,CAAC,UAAU;gBACf,IAAI,CAAC,QAAQ;gBACb,IAAI,CAAC,UAAU;gBACf,IAAI,CAAC,QAAQ;gBACb,IAAI,CAAC,SAAS;YAClB,CAAC;QACL;IACJ;IAEA,YAAY;QACR,MAAM,EACF,SAAS,EAAE,UAAS,EAAE,CAAA,EACtB,QAAQ,EAAE,MAAK,EAAE,CAAA,EACpB,GAAG,IAAI,CAAC,EAAE;QAEX,MAAM,WAAW;YAAC;YAAS;SAAc,EAAE,CAAC,QAAU;YAClD,IAAI,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE;YACtB,MAAM,OAAO,IAAI,CAAC,EAAE,CAAC,uBAAuB,CAAC;YAC7C,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,MAAM;QACnC;IACJ;IAEA,aAAa;QACT,MAAM,EAAE,MAAK,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM;QAEhC,MAAM,iBAAiB,CAAA,GAAA,eAAQ,AAAD,EAC1B,IAAM;YACF,IAAI,CAAC,EAAE,CAAC,MAAM;YACd,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;QACjB,GACA,KACA,IAAI;QAGR,MAAM,QAAQ;YAAC;YAAU;SAAoB,EAAE,IAAM;YACjD;QACJ;IACJ;IAEA,WAAW;QACP,MAAM,EACF,QAAQ,EAAE,MAAK,EAAE,CAAA,EACjB,SAAS,EAAE,aAAY,EAAE,CAAA,EAC5B,GAAG,IAAI,CAAC,EAAE;QAEX,IAAI,CAAC,cAAc;QAEnB,MAAM,cAAc;YAAC;YAAU;YAAW;SAAU,EAAE,IAAM;YACxD,IAAI,CAAC,EAAE,CAAC,MAAM;QAClB;QAEC,CAAA,SAAS,OAAO;YACb,IAAI,CAAC,SAAS,GAAG,sBAAsB,IAAM;gBACzC,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,EACf,IAAI,CAAC,EAAE,CAAC,MAAM;gBAGlB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,EAClB,KAAK,IAAI,CAAC,IAAI;YAEtB;QACJ,CAAA,EAAE,IAAI,CAAC,IAAI;IACf;IAEA,aAAa;QACT,MAAM,EACF,QAAQ,EAAE,MAAK,EAAE,CAAA,EACjB,SAAS,EAAE,UAAS,EAAE,CAAA,EACzB,GAAG,IAAI,CAAC,EAAE;QAEX,MAAM,WAAW,SAAS,CAAC,QAAU;YACjC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,MAAM,MAAM,GAAG;QACpD;IACJ;IAEA,WAAW;QACP,MAAM,EACF,QAAQ,EAAE,MAAK,EAAE,CAAA,EACjB,SAAS,EAAE,UAAS,EAAE,CAAA,EACzB,GAAG,IAAI,CAAC,EAAE;QAEX,IAAI,YAAY,KAAK;QACrB,IAAI,kBAAkB;QACtB,IAAI,YAAY;QAEhB,MAAM,WAAW,aAAa,CAAC,QAAU;YACrC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa;YAC1B,IAAI,MAAM,MAAM,KAAK,GAAG;YACxB,YAAY,IAAI;YAChB,MAAM,EAAE,WAAU,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM;YACrC,kBAAkB,aAAa,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,uBAAuB,CAAC,MAAM;YAC3F,YAAY,MAAM,KAAK;QAC3B;QAEA,MAAM,WAAW,aAAa,CAAC,QAAU;YACrC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa;YAC1B,IAAI,CAAC,WAAW;YAChB,IAAI,CAAC,EAAE,CAAC,QAAQ,GAAG,IAAI;YACvB,CAAA,GAAA,eAAQ,AAAD,EAAE,WAAW;YACpB,MAAM,EAAE,WAAU,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM;YACrC,MAAM,YAAY,MAAM,KAAK,GAAG;YAChC,MAAM,WAAW,IAAI,CAAC,EAAE,CAAC,oBAAoB,CAAC;YAC9C,MAAM,cAAc,kBAAmB,CAAA,aAAa,CAAC,WAAW,QAAQ,AAAD;YACvE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,aAAa;QAC1C;QAEA,MAAM,UAAU,WAAW,CAAC,QAAU;YAClC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW;YACxB,IAAI,CAAC,WAAW;YAChB,WAAW,IAAO,IAAI,CAAC,EAAE,CAAC,QAAQ,GAAG,KAAK;YAC1C,CAAA,GAAA,kBAAW,AAAD,EAAE,WAAW;YACvB,YAAY,KAAK;YACjB,kBAAkB;YAClB,YAAY;QAChB;IACJ;IAEA,YAAY;QACR,MAAM,EACF,QAAQ,EAAE,MAAK,EAAE,CAAA,EACjB,SAAS,EAAE,UAAS,EAAE,CAAA,EACzB,GAAG,IAAI,CAAC,EAAE;QAEX,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,CAAA,GAAA,eAAQ,AAAD,EAAE,SAAS;QAClB,UAAU,WAAW,CAAC;QACtB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,GAAG;QAE1B,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,aAAa,CAAC,QAAU;YAC/B,QAAQ,KAAK,CAAC,IAAI,GAAG,MAAM,KAAK,GAAG,UAAU,qBAAqB,GAAG,IAAI,GAAG;QAChF;QAEA,MAAM,WAAW,cAAc,CAAC,QAAU;YACtC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc;YAC3B,QAAQ,KAAK,CAAC,OAAO,GAAG,IAAI;QAChC;QAEA,MAAM,WAAW,cAAc,CAAC,QAAU;YACtC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc;YAC3B,QAAQ,KAAK,CAAC,OAAO,GAAG;QAC5B;IACJ;IAEA,UAAU;QACN,qBAAqB,IAAI,CAAC,SAAS;IACvC;AACJ;kBA3JqB;;;ACFrB,OAAO,OAAO,GAAG","sources":["src/index.js","node_modules/option-validator/dist/option-validator.js","src/emitter.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/events.js","src/template.js","src/utils.js","src/drawer.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-a60484c930b9e957.js","src/worker.js","src/decoder.js","src/loader.js","src/controller.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-845a50df90dd29ef.js"],"sourcesContent":["import validator from 'option-validator';\nimport Emitter from './emitter';\nimport Events from './events';\nimport Template from './template';\nimport Drawer from './drawer';\nimport Decoder from './decoder';\nimport Loader from './loader';\nimport Controller from './controller';\nimport style from 'bundle-text:./style.less';\nimport { clamp, errorHandle, addClass, removeClass } from './utils';\n\nlet id = 0;\nconst instances = [];\nexport default class WFPlayer extends Emitter {\n    static get instances() {\n        return instances;\n    }\n\n    static get version() {\n        return process.env.APP_VER;\n    }\n\n    static get env() {\n        return process.env.NODE_ENV;\n    }\n\n    static get default() {\n        return {\n            container: '#waveform',\n            mediaElement: null,\n            useWorker: true,\n            wave: true,\n            waveColor: 'rgba(255, 255, 255, 0.1)',\n            backgroundColor: 'rgb(28, 32, 34)',\n            paddingColor: 'rgba(255, 255, 255, 0.05)',\n            cursor: true,\n            cursorColor: '#ff0000',\n            progress: true,\n            progressColor: 'rgba(255, 255, 255, 0.5)',\n            grid: true,\n            gridColor: 'rgba(255, 255, 255, 0.05)',\n            ruler: true,\n            rulerColor: 'rgba(255, 255, 255, 0.5)',\n            scrollbar: true,\n            scrollbarColor: 'rgba(255, 255, 255, 0.25)',\n            rulerAtTop: true,\n            scrollable: false,\n            refreshDelay: 50,\n            channel: 0,\n            duration: 10,\n            padding: 5,\n            waveScale: 0.8,\n            waveSize: 1,\n            pixelRatio: Math.ceil(window.devicePixelRatio),\n        };\n    }\n\n    static get scheme() {\n        return {\n            container: 'htmlelement|htmldivelement',\n            mediaElement: 'null|htmlvideoelement|htmlaudioelement',\n            useWorker: 'boolean',\n            wave: 'boolean',\n            waveColor: 'string',\n            backgroundColor: 'string',\n            paddingColor: 'string',\n            cursor: 'boolean',\n            cursorColor: 'string',\n            progress: 'boolean',\n            progressColor: 'string',\n            grid: 'boolean',\n            gridColor: 'string',\n            ruler: 'boolean',\n            rulerColor: 'string',\n            scrollbar: 'boolean',\n            scrollbarColor: 'string',\n            rulerAtTop: 'boolean',\n            scrollable: 'boolean',\n            refreshDelay: 'number',\n            channel: 'number',\n            duration: 'number',\n            padding: 'number',\n            waveScale: 'number',\n            waveSize: 'number',\n            pixelRatio: 'number',\n        };\n    }\n\n    constructor(options = {}) {\n        super();\n\n        this._seekTimer = null;\n        this._currentTime = 0;\n        this.isDestroy = false;\n        this.grabbing = false;\n        this.options = {};\n        this.setOptions(options);\n\n        this.events = new Events(this);\n        this.template = new Template(this);\n        this.decoder = new Decoder(this);\n        this.drawer = new Drawer(this);\n        this.controller = new Controller(this);\n        this.loader = new Loader(this);\n\n        this.update();\n\n        id += 1;\n        this.id = id;\n        instances.push(this);\n    }\n\n    get currentTime() {\n        return this.options.mediaElement ? this.options.mediaElement.currentTime : this._currentTime;\n    }\n\n    get duration() {\n        return this.options.mediaElement ? this.options.mediaElement.duration : Infinity;\n    }\n\n    get playing() {\n        const { mediaElement } = this.options;\n        if (mediaElement) {\n            return !!(\n                mediaElement.currentTime > 0 &&\n                !mediaElement.paused &&\n                !mediaElement.ended &&\n                mediaElement.readyState > 2\n            );\n        }\n        return false;\n    }\n\n    get canvas() {\n        return this.template.canvas;\n    }\n\n    get config() {\n        return this.drawer.config;\n    }\n\n    get proxy() {\n        return this.events.proxy;\n    }\n\n    setOptions(options = {}) {\n        errorHandle(validator.kindOf(options) === 'object', 'setOptions expects to receive object as a parameter.');\n\n        if (typeof options.container === 'string') {\n            options.container = document.querySelector(options.container);\n        }\n\n        if (typeof options.mediaElement === 'string') {\n            options.mediaElement = document.querySelector(options.mediaElement);\n        }\n\n        this.options = validator(\n            {\n                ...WFPlayer.default,\n                ...this.options,\n                ...options,\n            },\n            WFPlayer.scheme,\n        );\n\n        this.options.channel = Math.abs(Math.floor(this.options.channel));\n        this.options.duration = Math.abs(Math.floor(this.options.duration));\n        this.options.padding = Math.abs(Math.floor(this.options.padding));\n        this.options.pixelRatio = Math.abs(Math.floor(this.options.pixelRatio));\n        this.options.waveSize = Math.abs(Math.floor(this.options.waveSize));\n        this.options.waveScale = Math.abs(this.options.waveScale);\n\n        if (this.options.duration % 2 !== 0) {\n            this.options.duration -= 1;\n        }\n\n        this.emit('options', this.options);\n\n        if (this.options.scrollable) {\n            addClass(this.options.container, 'wf-scrollable');\n        } else {\n            removeClass(this.options.container, 'wf-scrollable');\n        }\n\n        this.update();\n        return this;\n    }\n\n    load(target) {\n        // Audiobuffer\n        if (target && typeof target.getChannelData === 'function') {\n            this.decoder.decodeSuccess(target);\n            this.controller.init();\n            return this;\n        }\n\n        // Uint8Array\n        if (target && target.buffer) {\n            this.decoder.decodeAudioData(target);\n            this.controller.init();\n            return this;\n        }\n\n        // HTMLVideoElement or HTMLAudioElement\n        if (target instanceof HTMLVideoElement || target instanceof HTMLAudioElement) {\n            this.options.mediaElement = target;\n            target = target.currentSrc || target.src;\n        }\n\n        errorHandle(\n            typeof target === 'string' && target.trim(),\n            `The load target is not a string. If you are loading a mediaElement, make sure the mediaElement.src is not empty.`,\n        );\n\n        // String Url\n        this.loader.load(target);\n        this.controller.init();\n        return this;\n    }\n\n    getCurrentTimeFromEvent(event) {\n        const { container } = this.options;\n        const { padding, beginTime, gridGap, pixelRatio } = this.drawer.config;\n        const left = event.pageX - container.getBoundingClientRect().left;\n        const paddingWidth = (padding * gridGap) / pixelRatio;\n        const offsetLeft = left - paddingWidth;\n        const duration = this.getDurationFromWidth(offsetLeft);\n        return duration + beginTime;\n    }\n\n    getDurationFromWidth(width) {\n        const { gridGap, pixelRatio } = this.drawer.config;\n        return width / ((gridGap / pixelRatio) * 10);\n    }\n\n    getWidthFromDuration(duration) {\n        const { gridGap, pixelRatio } = this.drawer.config;\n        return (gridGap / pixelRatio) * 10 * duration;\n    }\n\n    getLeftFromTime(time) {\n        const { gridGap, pixelRatio, beginTime, padding } = this.drawer.config;\n        const width = this.getWidthFromDuration(time - beginTime);\n        return width + (padding * gridGap) / pixelRatio;\n    }\n\n    checkVisible(start, end) {\n        const { beginTime, duration } = this.drawer.config;\n        if (typeof start !== 'number' || typeof end !== 'number') return false;\n        if (start >= end) return false;\n        if (end < beginTime) return false;\n        if (start > beginTime + duration) return false;\n        return true;\n    }\n\n    checkCurrent(start, end) {\n        return this.checkVisible(start, end) && this.currentTime >= start && this.currentTime <= end;\n    }\n\n    seek(second) {\n        errorHandle(typeof second === 'number', 'seek expects to receive number as a parameter.');\n        cancelAnimationFrame(this._seekTimer);\n        this._currentTime = clamp(second, 0, this.duration);\n        if (this.options.mediaElement && this.options.mediaElement.currentTime !== this._currentTime) {\n            this.options.mediaElement.currentTime = this._currentTime;\n        }\n        this.update();\n        return this;\n    }\n\n    smoothSeek(second, duration = 0.2) {\n        return new Promise((resolve) => {\n            errorHandle(typeof second === 'number', 'smoothSeek expects to receive number as a parameter.');\n            cancelAnimationFrame(this._seekTimer);\n            const clampSecond = clamp(second, 0, this.duration);\n            const diff = clampSecond - this.currentTime;\n            if (diff === 0) return resolve(this);\n            const step = diff / duration / 100;\n            const { mediaElement } = this.options;\n            const { playing } = this;\n            if (playing) mediaElement.pause();\n\n            (function loop() {\n                this._seekTimer = requestAnimationFrame(() => {\n                    if ((diff > 0 && this.currentTime < clampSecond) || (diff < 0 && this.currentTime > clampSecond)) {\n                        this.seek(this.currentTime + step);\n                        if (!this.isDestroy) loop.call(this);\n                    } else {\n                        this.seek(clampSecond);\n                        if (playing) mediaElement.play();\n                        resolve(this);\n                    }\n                });\n            }.call(this));\n        });\n    }\n\n    changeChannel(channel) {\n        this.decoder.changeChannel(channel);\n        this.setOptions({ channel });\n        this.update();\n        return this;\n    }\n\n    exportImage() {\n        this.template.exportImage();\n        return this;\n    }\n\n    update() {\n        if (this.template && this.drawer) {\n            this.template.update();\n            this.drawer.update();\n        }\n        return this;\n    }\n\n    reset() {\n        this.decoder.destroy();\n        return this;\n    }\n\n    destroy() {\n        this.isDestroy = true;\n        this.events.destroy();\n        this.template.destroy();\n        this.controller.destroy();\n        this.decoder.destroy();\n        this.loader.destroy();\n        this.drawer.destroy();\n        instances.splice(instances.indexOf(this), 1);\n        return this;\n    }\n}\n\nif (typeof document !== 'undefined') {\n    if (!document.getElementById('wfplayer-style')) {\n        const $style = document.createElement('style');\n        $style.id = 'wfplayer-style';\n        $style.textContent = style;\n        document.head.appendChild($style);\n    }\n}\n\nif (typeof window !== 'undefined') {\n    window['WFPlayer'] = WFPlayer;\n}\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.optionValidator=t()}(this,function(){\"use strict\";function e(r){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r})(r)}var n=Object.prototype.toString,c=function(r){if(void 0===r)return\"undefined\";if(null===r)return\"null\";var t=e(r);if(\"boolean\"===t)return\"boolean\";if(\"string\"===t)return\"string\";if(\"number\"===t)return\"number\";if(\"symbol\"===t)return\"symbol\";if(\"function\"===t)return function(r){return\"GeneratorFunction\"===o(r)}(r)?\"generatorfunction\":\"function\";if(function(r){return Array.isArray?Array.isArray(r):r instanceof Array}(r))return\"array\";if(function(r){if(r.constructor&&\"function\"==typeof r.constructor.isBuffer)return r.constructor.isBuffer(r);return!1}(r))return\"buffer\";if(function(r){try{if(\"number\"==typeof r.length&&\"function\"==typeof r.callee)return!0}catch(r){if(-1!==r.message.indexOf(\"callee\"))return!0}return!1}(r))return\"arguments\";if(function(r){return r instanceof Date||\"function\"==typeof r.toDateString&&\"function\"==typeof r.getDate&&\"function\"==typeof r.setDate}(r))return\"date\";if(function(r){return r instanceof Error||\"string\"==typeof r.message&&r.constructor&&\"number\"==typeof r.constructor.stackTraceLimit}(r))return\"error\";if(function(r){return r instanceof RegExp||\"string\"==typeof r.flags&&\"boolean\"==typeof r.ignoreCase&&\"boolean\"==typeof r.multiline&&\"boolean\"==typeof r.global}(r))return\"regexp\";switch(o(r)){case\"Symbol\":return\"symbol\";case\"Promise\":return\"promise\";case\"WeakMap\":return\"weakmap\";case\"WeakSet\":return\"weakset\";case\"Map\":return\"map\";case\"Set\":return\"set\";case\"Int8Array\":return\"int8array\";case\"Uint8Array\":return\"uint8array\";case\"Uint8ClampedArray\":return\"uint8clampedarray\";case\"Int16Array\":return\"int16array\";case\"Uint16Array\":return\"uint16array\";case\"Int32Array\":return\"int32array\";case\"Uint32Array\":return\"uint32array\";case\"Float32Array\":return\"float32array\";case\"Float64Array\":return\"float64array\"}if(function(r){return\"function\"==typeof r.throw&&\"function\"==typeof r.return&&\"function\"==typeof r.next}(r))return\"generator\";switch(t=n.call(r)){case\"[object Object]\":return\"object\";case\"[object Map Iterator]\":return\"mapiterator\";case\"[object Set Iterator]\":return\"setiterator\";case\"[object String Iterator]\":return\"stringiterator\";case\"[object Array Iterator]\":return\"arrayiterator\"}return t.slice(8,-1).toLowerCase().replace(/\\s/g,\"\")};function o(r){return r.constructor?r.constructor.name:null}function f(r,t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[\"option\"];return s(r,t,e),y(r,t,e),function(a,i,u){var r=c(i),t=c(a);if(\"object\"===r){if(\"object\"!==t)throw new Error(\"[Type Error]: '\".concat(u.join(\".\"),\"' require 'object' type, but got '\").concat(t,\"'\"));Object.keys(i).forEach(function(r){var t=a[r],e=i[r],n=u.slice();n.push(r),s(t,e,n),y(t,e,n),f(t,e,n)})}if(\"array\"===r){if(\"array\"!==t)throw new Error(\"[Type Error]: '\".concat(u.join(\".\"),\"' require 'array' type, but got '\").concat(t,\"'\"));a.forEach(function(r,t){var e=a[t],n=i[t]||i[0],o=u.slice();o.push(t),s(e,n,o),y(e,n,o),f(e,n,o)})}}(r,t,e),r}function s(r,t,e){if(\"string\"===c(t)){var n=c(r);if(\"?\"===t[0]&&(t=t.slice(1)+\"|undefined\"),!(-1<t.indexOf(\"|\")?t.split(\"|\").map(function(r){return r.toLowerCase().trim()}).filter(Boolean).some(function(r){return n===r}):t.toLowerCase().trim()===n))throw new Error(\"[Type Error]: '\".concat(e.join(\".\"),\"' require '\").concat(t,\"' type, but got '\").concat(n,\"'\"))}}function y(r,t,e){if(\"function\"===c(t)){var n=t(r,c(r),e);if(!0!==n){var o=c(n);throw\"string\"===o?new Error(n):\"error\"===o?n:new Error(\"[Validator Error]: The scheme for '\".concat(e.join(\".\"),\"' validator require return true, but got '\").concat(n,\"'\"))}}}return f.kindOf=c,f});\n","export default class Emitter {\n    on(name, fn, ctx) {\n        const e = this.e || (this.e = {});\n        (e[name] || (e[name] = [])).push({ fn, ctx });\n        return this;\n    }\n\n    once(name, fn, ctx) {\n        const self = this;\n        function listener(...args) {\n            self.off(name, listener);\n            fn.apply(ctx, args);\n        }\n        listener._ = fn;\n        return this.on(name, listener, ctx);\n    }\n\n    emit(name, ...data) {\n        const evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n        for (let i = 0; i < evtArr.length; i += 1) {\n            evtArr[i].fn.apply(evtArr[i].ctx, data);\n        }\n        return this;\n    }\n\n    off(name, callback) {\n        const e = this.e || (this.e = {});\n        const evts = e[name];\n        const liveEvents = [];\n        if (evts && callback) {\n            for (let i = 0, len = evts.length; i < len; i += 1) {\n                if (evts[i].fn !== callback && evts[i].fn._ !== callback) liveEvents.push(evts[i]);\n            }\n        }\n        if (liveEvents.length) {\n            e[name] = liveEvents;\n        } else {\n            delete e[name];\n        }\n        return this;\n    }\n}\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","export default class Events {\n    constructor() {\n        this.destroyEvents = [];\n        this.proxy = this.proxy.bind(this);\n    }\n\n    proxy(target, name, callback, option = {}) {\n        if (Array.isArray(name)) {\n            return name.map((item) => this.proxy(target, item, callback, option));\n        }\n\n        target.addEventListener(name, callback, option);\n        const destroyEvent = () => target.removeEventListener(name, callback, option);\n        this.destroyEvents.push(destroyEvent);\n        return destroyEvent;\n    }\n\n    destroy() {\n        this.destroyEvents.forEach((event) => event());\n    }\n}\n","import { errorHandle, throttle, addClass } from './utils';\n\nexport default class Template {\n    constructor(wf) {\n        this.wf = wf;\n        this.canvas = null;\n        const { refreshDelay } = wf.options;\n        this.update = throttle(this.init, refreshDelay, this);\n        this.init();\n    }\n\n    init() {\n        const { container, pixelRatio } = this.wf.options;\n        const { clientWidth, clientHeight } = container;\n        const width = clientWidth * pixelRatio;\n        const height = clientHeight * pixelRatio;\n\n        if (this.canvas) {\n            if (this.canvas.width !== width) {\n                this.canvas.width = width;\n            }\n            if (this.canvas.height !== height) {\n                this.canvas.height = height;\n            }\n        } else {\n            errorHandle(\n                this.wf.constructor.instances.every((wf) => wf.options.container !== container),\n                'Cannot mount multiple instances on the same dom element, please destroy the previous instance first.',\n            );\n            container.innerHTML = '';\n            addClass(container, 'wf-player');\n            this.canvas = document.createElement('canvas');\n            this.canvas.width = width;\n            this.canvas.height = height;\n            this.canvas.style.width = '100%';\n            this.canvas.style.height = '100%';\n            container.appendChild(this.canvas);\n        }\n    }\n\n    exportImage() {\n        const elink = document.createElement('a');\n        elink.style.display = 'none';\n        elink.href = this.canvas.toDataURL('image/png');\n        elink.download = `${Date.now()}.png`;\n        document.body.appendChild(elink);\n        elink.click();\n        document.body.removeChild(elink);\n    }\n\n    destroy() {\n        this.wf.options.container.innerHTML = '';\n    }\n}\n","export class WFPlayerError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'WFPlayerError';\n    }\n}\n\nexport function errorHandle(condition, msg) {\n    if (!condition) throw new WFPlayerError(msg);\n    return condition;\n}\n\nexport function mergeBuffer(...buffers) {\n    const Cons = buffers[0].constructor;\n    return buffers.reduce((pre, val) => {\n        const merge = new Cons((pre.byteLength | 0) + (val.byteLength | 0));\n        merge.set(pre, 0);\n        merge.set(val, pre.byteLength | 0);\n        return merge;\n    }, new Cons());\n}\n\nexport function clamp(num, a, b) {\n    return Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\n}\n\nexport function throttle(func, delay, context) {\n    let prev = Date.now();\n    return (...args) => {\n        const now = Date.now();\n        if (now - prev >= delay) {\n            func.apply(context, args);\n            prev = Date.now();\n        }\n    };\n}\n\nexport function addClass(el, className) {\n    return el.classList.add(className);\n}\n\nexport function removeClass(el, className) {\n    return el.classList.remove(className);\n}\n","import { throttle } from './utils';\nimport workerText from 'bundle-text:./worker';\nimport { postMessage } from './worker';\n\nexport default class Drawer {\n    constructor(wf) {\n        this.wf = wf;\n        this.canvas = wf.template.canvas;\n        this.config = {};\n\n        const { refreshDelay, useWorker } = wf.options;\n        this.update = throttle(this.update, refreshDelay, this);\n\n        if (useWorker && window.OffscreenCanvas && window.Worker) {\n            this.worker = new Worker(URL.createObjectURL(new Blob([workerText])));\n            this.ctx = this.canvas.getContext('bitmaprenderer');\n\n            this.wf.events.proxy(this.worker, 'message', (event) => {\n                const { type, data } = event.data;\n                if (type === 'UPFATE' && !wf.isDestroy) {\n                    this.config = data.config;\n                    this.wf.emit('update', data.config);\n                    this.ctx.transferFromImageBitmap(data.imageBitmap);\n                }\n            });\n\n            this.worker.postMessage({\n                type: 'INIT',\n                data: {\n                    width: this.canvas.width,\n                    height: this.canvas.height,\n                },\n            });\n        } else {\n            this.worker = { postMessage };\n\n            this.wf.on('update', (config) => {\n                this.config = config;\n            });\n\n            this.worker.postMessage({\n                type: 'INIT',\n                data: {\n                    canvas: this.canvas,\n                    wf: this.wf,\n                },\n            });\n        }\n\n        wf.on('decode', ({ channelData, sampleRate }) => {\n            this.worker.postMessage({\n                type: 'DECODE',\n                data: { channelData, sampleRate },\n            });\n            this.update();\n        });\n    }\n\n    update() {\n        const {\n            currentTime,\n            duration: totolDuration,\n            // eslint-disable-next-line no-unused-vars\n            options: { container, mediaElement, ...options },\n        } = this.wf;\n\n        const { width, height } = this.canvas;\n\n        this.worker.postMessage({\n            type: 'UPDATE',\n            data: { ...options, currentTime, width, height, totolDuration },\n        });\n    }\n\n    destroy() {\n        if (this.worker.terminate) {\n            this.worker.terminate();\n        }\n    }\n}\n","module.exports = \"a6ceebd05a7e64f1\";","const isWorker = self.document === undefined;\n\nlet wf = null;\nlet canvas = null;\nlet ctx = null;\nlet gridNum = 0;\nlet gridGap = 0;\nlet beginTime = 0;\nlet density = 1;\nlet sampleRate = 44100;\nlet channelData = new Float32Array();\nlet lastDataString = '';\n\nfunction secondToTime(second) {\n    const add0 = (num) => (num < 10 ? `0${num}` : String(num));\n    const hour = Math.floor(second / 3600);\n    const min = Math.floor((second - hour * 3600) / 60);\n    const sec = Math.floor(second - hour * 3600 - min * 60);\n    return [hour, min, sec].map(add0).join(':');\n}\n\nfunction clamp(num, a, b) {\n    return Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\n}\n\nfunction getDensity(data) {\n    const fontSize = 11;\n    ctx.font = `${fontSize * data.pixelRatio}px Arial`;\n    const rulerWidth = ctx.measureText('99:99:99').width;\n    return (function loop(second) {\n        const rate = (gridGap * second) / (rulerWidth * 1.5);\n        if (rate > 1) return Math.floor(second / 10);\n        return loop(second + 10);\n    })(10);\n}\n\nfunction drawBackground(data) {\n    const { width, height, backgroundColor, paddingColor, padding } = data;\n    ctx.clearRect(0, 0, width, height);\n    ctx.fillStyle = backgroundColor;\n    ctx.fillRect(0, 0, width, height);\n    ctx.fillStyle = paddingColor;\n    ctx.fillRect(0, 0, padding * gridGap, height);\n    ctx.fillRect(width - padding * gridGap, 0, padding * gridGap, height);\n}\n\nfunction drawGrid(data) {\n    const { width, height, currentTime, gridColor, pixelRatio, scrollable } = data;\n    ctx.fillStyle = gridColor;\n    for (let index = 0; index < gridNum + 10; index += density) {\n        const x = scrollable\n            ? gridGap * index - (currentTime - parseInt(currentTime, 10)) * gridGap * 10\n            : gridGap * index;\n        ctx.fillRect(x, 0, pixelRatio, height);\n    }\n    for (let index = 0; index < height / gridGap; index += density) {\n        ctx.fillRect(0, gridGap * index, width, pixelRatio);\n    }\n}\n\nfunction drawRuler(data) {\n    const { height, currentTime, rulerColor, pixelRatio, padding, rulerAtTop, scrollable } = data;\n    const fontSize = 11;\n    const fontHeight = 15;\n    const fontTop = 30;\n    ctx.font = `${fontSize * pixelRatio}px Arial`;\n    ctx.fillStyle = rulerColor;\n    let second = -1;\n    for (let index = 0; index < gridNum + 10; index += 1) {\n        const x = scrollable\n            ? gridGap * index - (currentTime - parseInt(currentTime, 10)) * gridGap * 10\n            : gridGap * index;\n        if ((index - padding) % 10 === 0) {\n            second += 1;\n            ctx.fillRect(x, rulerAtTop ? 0 : height - fontHeight * pixelRatio, pixelRatio, fontHeight * pixelRatio);\n            const time = Math.floor(beginTime + second);\n            if (time % density === 0 && time >= 0) {\n                ctx.fillText(\n                    secondToTime(time),\n                    x - fontSize * pixelRatio * 2 + pixelRatio,\n                    rulerAtTop ? fontTop * pixelRatio : height - fontTop * pixelRatio + fontSize,\n                );\n            }\n        } else if ((index - padding) % 5 === 0) {\n            ctx.fillRect(\n                x,\n                rulerAtTop ? 0 : height - (fontHeight / 2) * pixelRatio,\n                pixelRatio,\n                (fontHeight / 2) * pixelRatio,\n            );\n        }\n    }\n}\n\nfunction drawWave(data) {\n    const {\n        width,\n        height,\n        currentTime,\n        progress,\n        waveColor,\n        progressColor,\n        duration,\n        padding,\n        waveScale,\n        waveSize,\n        scrollable,\n    } = data;\n\n    const middle = height / 2;\n    const waveWidth = width - gridGap * padding * 2;\n    const startIndex = Math.floor(beginTime * sampleRate);\n    const endIndex = Math.floor(clamp((beginTime + duration) * sampleRate, startIndex, Infinity));\n    const step = Math.floor((endIndex - startIndex) / waveWidth);\n    const cursorX = scrollable ? width / 2 : padding * gridGap + (currentTime - beginTime) * gridGap * 10;\n    let stepIndex = 0;\n    let xIndex = 0;\n    let min = 1;\n    let max = -1;\n    for (let i = startIndex; i < endIndex; i += waveSize) {\n        stepIndex += 1;\n        const item = channelData[i] || 0;\n        if (item < min) {\n            min = item;\n        } else if (item > max) {\n            max = item;\n        }\n        if (stepIndex >= step && xIndex < waveWidth) {\n            const waveX = gridGap * padding + xIndex;\n            ctx.fillStyle = progress && cursorX >= waveX ? progressColor : waveColor;\n            ctx.fillRect(\n                waveX,\n                (1 + min * waveScale) * middle,\n                waveSize,\n                Math.max(1, (max - min) * middle * waveScale),\n            );\n            xIndex += waveSize;\n            stepIndex = 0;\n            min = 1;\n            max = -1;\n        }\n    }\n}\n\nfunction drawScrollbar(data) {\n    const { width, height, currentTime, pixelRatio, rulerAtTop, totolDuration, scrollable, scrollbarColor } = data;\n    if (!scrollable || !totolDuration || totolDuration === Infinity) return;\n    const totolWidth = (gridGap / pixelRatio) * 10 * totolDuration;\n    const scrollbarWidth = (width / totolWidth) * width;\n    const scrollbarHeight = 5 * pixelRatio;\n    const scrollbarLeft = (currentTime / totolDuration) * (width - scrollbarWidth);\n    const scrollbarTop = rulerAtTop ? height - scrollbarHeight : 0;\n    ctx.fillStyle = scrollbarColor;\n    ctx.fillRect(scrollbarLeft, scrollbarTop, scrollbarWidth, scrollbarHeight);\n}\n\nfunction drawCursor(data) {\n    const { height, width, currentTime, cursorColor, pixelRatio, padding, scrollable } = data;\n    ctx.fillStyle = cursorColor;\n    const x = scrollable ? width / 2 : padding * gridGap + (currentTime - beginTime) * gridGap * 10;\n    ctx.fillRect(x, 0, pixelRatio, height);\n}\n\nself.onmessage = function onmessage(event) {\n    const { type, data } = event.data;\n\n    if (type === 'INIT') {\n        if (isWorker) {\n            canvas = new OffscreenCanvas(data.width, data.height);\n        } else {\n            wf = data.wf;\n            canvas = data.canvas;\n        }\n        ctx = canvas.getContext('2d');\n    }\n\n    if (type === 'DECODE') {\n        sampleRate = data.sampleRate;\n        channelData = data.channelData;\n    }\n\n    if (type === 'UPDATE') {\n        const dataString = JSON.stringify(data);\n        if (lastDataString === dataString) {\n            return (lastDataString = dataString);\n        }\n\n        if (canvas.width !== data.width) {\n            canvas.width = data.width;\n        }\n\n        if (canvas.height !== data.height) {\n            canvas.height = data.height;\n        }\n\n        const { byteLength } = channelData;\n        gridNum = data.duration * 10 + data.padding * 2;\n        gridGap = data.width / gridNum;\n        density = getDensity(data);\n        beginTime = data.scrollable\n            ? data.currentTime - data.duration / 2\n            : Math.floor(data.currentTime / data.duration) * data.duration;\n\n        drawBackground(data);\n\n        if (data.grid) {\n            drawGrid(data);\n        }\n\n        if (data.ruler) {\n            drawRuler(data);\n        }\n\n        if (data.wave) {\n            drawWave(data);\n        }\n\n        if (data.scrollbar) {\n            drawScrollbar(data);\n        }\n\n        if (data.cursor) {\n            drawCursor(data);\n        }\n\n        const config = {\n            gridNum,\n            gridGap,\n            beginTime,\n            density,\n            sampleRate,\n            byteLength,\n            ...data,\n        };\n\n        if (isWorker) {\n            self.postMessage({\n                type: 'UPFATE',\n                data: {\n                    config,\n                    imageBitmap: canvas.transferToImageBitmap(),\n                },\n            });\n        } else {\n            wf.emit('update', config);\n        }\n    }\n};\n\nexport const postMessage = (data) => {\n    self.onmessage({ data });\n};\n","export default class Decoder {\n    constructor(wf) {\n        this.wf = wf;\n        this.audioCtx = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, 44100);\n        this.audiobuffer = this.audioCtx.createBuffer(1, 2, 44100);\n        this.channelData = new Float32Array();\n    }\n\n    decodeAudioData(uint8) {\n        return new Promise((resolve, reject) => {\n            this.wf.emit('decode:start', uint8);\n            this.audioCtx.decodeAudioData(\n                uint8.buffer,\n                (audiobuffer) => {\n                    this.wf.emit('decode:success', audiobuffer);\n                    this.decodeSuccess(audiobuffer);\n                    resolve(audiobuffer);\n                },\n                (error) => {\n                    this.wf.emit('decode:error', error);\n                    reject(error);\n                },\n            );\n        });\n    }\n\n    decodeSuccess(audiobuffer) {\n        this.audiobuffer = audiobuffer;\n        this.channelData = audiobuffer.getChannelData(this.wf.options.channel);\n        this.wf.emit('decode', {\n            channelData: this.channelData,\n            sampleRate: this.audiobuffer.sampleRate,\n            duration: this.audiobuffer.duration,\n        });\n        this.wf.update();\n    }\n\n    changeChannel(channel) {\n        this.channelData = this.audiobuffer.getChannelData(channel) || new Float32Array();\n        this.wf.emit('decode', {\n            channelData: this.channelData,\n            sampleRate: this.audiobuffer.sampleRate,\n            duration: this.audiobuffer.duration,\n        });\n        this.wf.update();\n    }\n\n    destroy() {\n        this.audiobuffer = this.audioCtx.createBuffer(1, 2, 44100);\n        this.channelData = new Float32Array();\n        this.wf.emit('decode', {\n            channelData: this.channelData,\n            sampleRate: this.audiobuffer.sampleRate,\n            duration: this.audiobuffer.duration,\n        });\n        this.wf.update();\n    }\n}\n","import { mergeBuffer } from './utils';\n\nexport default class Loader {\n    constructor(wf) {\n        this.wf = wf;\n        this.fileSize = 0;\n        this.loadSize = 0;\n        this.data = new Uint8Array();\n        this.reader = null;\n    }\n\n    load(url) {\n        this.destroy();\n        return fetch(url)\n            .then((response) => {\n                if (response.body && typeof response.body.getReader === 'function') {\n                    this.fileSize = Number(response.headers.get('content-length'));\n                    this.reader = response.body.getReader();\n                    return function read() {\n                        return this.reader.read().then(({ done, value }) => {\n                            if (done) return null;\n                            this.loadSize += value.byteLength;\n                            this.data = mergeBuffer(this.data, value);\n                            this.wf.decoder.decodeAudioData(this.data.slice());\n                            this.wf.emit('load', {\n                                fileSize: this.fileSize,\n                                loadSize: this.loadSize,\n                                data: this.data,\n                            });\n                            return read.call(this);\n                        });\n                    }.call(this);\n                }\n                return response.arrayBuffer();\n            })\n            .then((arrayBuffer) => {\n                if (arrayBuffer && arrayBuffer.byteLength) {\n                    this.data = new Uint8Array(arrayBuffer);\n                    this.fileSize = this.data.byteLength;\n                    this.loadSize = this.data.byteLength;\n                    this.wf.decoder.decodeAudioData(this.data);\n                    this.wf.emit('load', {\n                        fileSize: this.fileSize,\n                        loadSize: this.loadSize,\n                        data: this.data,\n                    });\n                }\n                return arrayBuffer;\n            });\n    }\n\n    destroy() {\n        this.fileSize = 0;\n        this.loadSize = 0;\n        this.data = new Uint8Array();\n        if (this.reader) {\n            this.reader.cancel();\n            this.reader = null;\n        }\n    }\n}\n","import { throttle, addClass, removeClass } from './utils';\n\nexport default class Controller {\n    constructor(wf) {\n        this.wf = wf;\n        this.playTimer = null;\n        this.isInit = false;\n        this.init = () => {\n            if (!this.isInit) {\n                this.isInit = true;\n                this.clickInit();\n                this.resizeInit();\n                this.playInit();\n                this.scrollInit();\n                this.grabInit();\n                this.hoverInit();\n            }\n        };\n    }\n\n    clickInit() {\n        const {\n            options: { container },\n            events: { proxy },\n        } = this.wf;\n\n        proxy(container, ['click', 'contextmenu'], (event) => {\n            if (this.wf.grabbing) return;\n            const time = this.wf.getCurrentTimeFromEvent(event);\n            this.wf.emit(event.type, time, event);\n        });\n    }\n\n    resizeInit() {\n        const { proxy } = this.wf.events;\n\n        const throttleResize = throttle(\n            () => {\n                this.wf.update();\n                this.wf.emit('resize');\n            },\n            200,\n            this,\n        );\n\n        proxy(window, ['resize', 'orientationchange'], () => {\n            throttleResize();\n        });\n    }\n\n    playInit() {\n        const {\n            events: { proxy },\n            options: { mediaElement },\n        } = this.wf;\n\n        if (!mediaElement) return;\n\n        proxy(mediaElement, ['seeked', 'seeking', 'canplay'], () => {\n            this.wf.update();\n        });\n\n        (function loop() {\n            this.playTimer = requestAnimationFrame(() => {\n                if (this.wf.playing) {\n                    this.wf.update();\n                }\n\n                if (!this.wf.isDestroy) {\n                    loop.call(this);\n                }\n            });\n        }.call(this));\n    }\n\n    scrollInit() {\n        const {\n            events: { proxy },\n            options: { container },\n        } = this.wf;\n\n        proxy(container, 'wheel', (event) => {\n            this.wf.emit('scroll', Math.sign(event.deltaY), event);\n        });\n    }\n\n    grabInit() {\n        const {\n            events: { proxy },\n            options: { container },\n        } = this.wf;\n\n        let grabStart = false;\n        let lastCurrentTime = 0;\n        let lastPageX = 0;\n\n        proxy(container, 'mousedown', (event) => {\n            this.wf.emit('mousedown', event);\n            if (event.button !== 0) return;\n            grabStart = true;\n            const { scrollable } = this.wf.config;\n            lastCurrentTime = scrollable ? this.wf.currentTime : this.wf.getCurrentTimeFromEvent(event);\n            lastPageX = event.pageX;\n        });\n\n        proxy(container, 'mousemove', (event) => {\n            this.wf.emit('mousemove', event);\n            if (!grabStart) return;\n            this.wf.grabbing = true;\n            addClass(container, 'wf-grabbing');\n            const { scrollable } = this.wf.config;\n            const diffWidth = event.pageX - lastPageX;\n            const diffTime = this.wf.getDurationFromWidth(diffWidth);\n            const currentTime = lastCurrentTime + (scrollable ? -diffTime : diffTime);\n            this.wf.emit('grabbing', currentTime, event);\n        });\n\n        proxy(document, 'mouseup', (event) => {\n            this.wf.emit('mouseup', event);\n            if (!grabStart) return;\n            setTimeout(() => (this.wf.grabbing = false));\n            removeClass(container, 'wf-grabbing');\n            grabStart = false;\n            lastCurrentTime = 0;\n            lastPageX = 0;\n        });\n    }\n\n    hoverInit() {\n        const {\n            events: { proxy },\n            options: { container },\n        } = this.wf;\n\n        const $cursor = document.createElement('div');\n        addClass($cursor, 'wf-cursor');\n        container.appendChild($cursor);\n        this.wf.template.cursor = $cursor;\n\n        this.wf.on('mousemove', (event) => {\n            $cursor.style.left = event.pageX - container.getBoundingClientRect().left + 'px';\n        });\n\n        proxy(container, 'mouseenter', (event) => {\n            this.wf.emit('mouseenter', event);\n            $cursor.style.display = null;\n        });\n\n        proxy(container, 'mouseleave', (event) => {\n            this.wf.emit('mouseleave', event);\n            $cursor.style.display = 'none';\n        });\n    }\n\n    destroy() {\n        cancelAnimationFrame(this.playTimer);\n    }\n}\n","module.exports = \"40889a184827c504\";"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../"}